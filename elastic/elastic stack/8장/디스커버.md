- [디스커버(Discover)](#디스커버discover)
  - [쿼리바](#쿼리바)

---
# 디스커버(Discover)

- 사전 준비 : 엘라스틱에서 제공하는 샘플 데이터들을 로드하고 오자.
![](/images/2022-04-28-23-46-41.png)

- 샘플데이터를 로드하면 인덱스를 생성함과 동시에 인덱스 패턴도 만들어준다.
- Discover는 데이터를 확인하고 탐색하기 위한 용도로 사용된다.
- 문서/이벤트/도큐먼트/로그의 시간에 따른 발생량을 히스토그램으로 보여주기도 하고 데이터 구조나 필드 타입 등을 간단히 확인할 수 있다.
- 또한 적절한 쿼리와 필터 등을 이용해 데이터를 탐색해가면서 추후 시각화 등에서 활용할 수 있다.
![](/images/2022-04-28-23-51-25.png)

1. 툴바 : 결과를 저장하고 불러오는 등의 기능 버튼이 위치
2. 인덱스 패턴 : 탐색할 인덱스 패턴 선택 가능
3. 사이드바: 필드 타입과 필드명을 볼 수 있어 데이터 구조를 확인할 수 있음
4. 시계열 히스토그램 : 히스토그램 형태로 시간에 따른 발생량을 확인할 수 있다. **인덱스 패턴에 시간/날짜 필드가 없는 경우에는 보이지 않는다.**
5. 쿼리바 : 쿼리를 이용해 데이터를 검색할 수 있다.
6. 타임피커 : 시계열 데이터의 시간 범위를 조정할 수 있다.
7. 필터바 : 쿼리를 필터처럼 사용할 수 있다.

## 쿼리바

- 쿼리바는 KQL(Kibana Query Language)과 루씬 쿼리 스트링 2가지 언어를 지원한다.
- 특별한 설정이 없으면 쿼리바는 기본적으로 KQL 언어를 이용한다.
- KQL 버튼을 클릭해서 루씬 쿼리스트링으로 변경할 수 있다.
- 쿼리바의 자동 완성 기능을 이용해 손쉽게 쿼리를 구현할 수 있다.


현재 인덱스는 `kibana_sample_data_flights` 이다.
![](/images/2022-04-28-23-56-36.png)

- 쿼리에 대한 필드 타입에 맞춰서 필드가 사용할 수 있는 연산자 종류(문자형이면 `:`, 숫자형이면 `>`, `<` 와 같은 기호들)을 선택할 수 있다.

- 직접 타이핑하지 않아도 모두 KQL에서 지원하므로 선택만 해서 쿼리를 만들어낼 수 있다.
![](/images/2022-04-28-23-58-17.png)
