- [Metric aggregation](#metric-aggregation)
    - [평균값/중간값 구하기](#평균값중간값-구하기)

# Metric aggregation

- 필드의 **최소/최대/합계/평균/중간값**같은 통계 결과를 보여줌
- 필드의 타입에 따라서 사용 가능한 집계 타입에 제한이 있음
  - 대표적으로 텍스트 타입 필드는 합계나 평균 같은 수치 연산을 할 수 없음


> 메트릭 집계 종류

| 메트릭 집계  | 설명                                                                  |
| ------------ | --------------------------------------------------------------------- |
| avg          | 필드의 평균값 계산                                                    |
| min          | 필드의 최솟값 계산                                                    |
| max          | 필드의 최댓값 계산                                                    |
| sum          | 필드의 총합을 계산                                                    |
| percentiles  | 필드의 백분윗값을 계산                                                |
| stats        | 필드의 min, max, sum, avg, count(도큐먼트 개수)를 한 번에 볼 수 있다. |
| cardinality  | 필드의 유니크한 값 개수를 보여준다.                                   |
| geo-centroid | 필드 내부의 위치 정보의 중심점을 계산한다.                            |

### 평균값/중간값 구하기

