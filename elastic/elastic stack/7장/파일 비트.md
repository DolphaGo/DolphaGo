- [파일 비트](#파일-비트)
  - [파일비트 아키텍처](#파일비트-아키텍처)
  - [파일비트 다운로드](#파일비트-다운로드)
  - [파일비트 실행](#파일비트-실행)
  - [파일비트 설정](#파일비트-설정)
    - [유용한 설정](#유용한-설정)
    - [멀티라인 로그처리](#멀티라인-로그처리)
  - [모듈](#모듈)
    - [비트다운로드](#비트다운로드)
    - [비츠 설정 파일 수정](#비츠-설정-파일-수정)
    - [모듈 활성화](#모듈-활성화)
    - [모듈 설정 파일 수정](#모듈-설정-파일-수정)
    - [setup 명령과 함께 비트 실행](#setup-명령과-함께-비트-실행)
    - [키바나에서 확인](#키바나에서-확인)
---

# 파일 비트
## 파일비트 아키텍처

- 서버나 시스템을 운영하다보면, 수많은 로그들이 파일 형태로 발생한다.
- 파일비트는 이런 로그 파일을 쉽게 수집하도록 도와주며 궁극적으로 엘라스틱과 키바나를 이용해 로그를 추적하고 통계를 만들어 활용할 수 있게 도와준다.
- 파일비트는 Go 언어로 작성되어있고, JVM 같은 무거운 런타임 라이브러리가 따로 필요하지 않아서 가볍기 때문에 수집할 시스템에 부담없이 설치될 수 있다.
- 로그스태시처럼 간단한 필터 작업도 가능하다.

> #### 파일비트 아키텍처 구조 
> [출처](https://www.elastic.co/guide/en/beats/filebeat/current/filebeat-overview.html)


![](/images/2022-04-19-00-05-29.png)

- 파일비트는 다음 3가지 주요 구성 요소로 이뤄져있다.

**1. 입력(input)**

- 설정 파일에서 하베스터에 대한 입력 소스를 정한다.
- 파일비트는 하나 혹은 여러 개의 입력을 가질 수 있다.

**2. 하베스터(harvester)**

- 입력에 명시된 파일을 직접 수집하는 주체다.
- 파일은 하나의 하베스터를 가지며, 하베스터는 파일을 한 줄씩 읽고 내보내는 역할을 한다.
- 또한 파일을 열고 닫는 역할도 한다.
- 하베스터가 실행되는 동안에는 파일 디스크립터가 열려있다.

**3. 스풀러(spooler)**

- 하베스터가 수집한 이벤트를 엘라스틱서치나 로그스태시 같은 장소로 전달한다.


파일비트는 기본적으로 파일에 적재되는 로그들을 가져오는 역할을 한다.
input에서 대상 경로를 모니터링하다가 새로운 파일이 발견되면, 하베스터를 생성해서 해당 데이터를 읽어들인다.



## 파일비트 다운로드
## 파일비트 실행
## 파일비트 설정
### 유용한 설정
### 멀티라인 로그처리
## 모듈
### 비트다운로드
### 비츠 설정 파일 수정
### 모듈 활성화
### 모듈 설정 파일 수정
### setup 명령과 함께 비트 실행
### 키바나에서 확인
