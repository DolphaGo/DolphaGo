# 분석기
- 엘라스틱 서치는 전문 검색을 지원하기 위해 `역인덱싱 기술`을 사용한다.
- **전문 검색이란, 장문의 문자열에서 부분 검색을 수행하는 것이며, 역인덱싱은 장문의 문자열을 분석해 작은 단위로 쪼개어 인덱싱하는 기술이다.**
- 역인덱싱을 이용한 전문 검색에서는 양질의 결과를 얻기 위해 `문자열을 나누는 기준`이 중요하며, 이를 지원하기 위해 엘라스틱 서치에서는 `캐릭터 필터, 토크나이저, 토큰 필터`로 구성되어 있는 분석기 모듈을 갖고 있다.
- 분석기에는 하나의 토크나이저가 반드시 포함되어야하며, 캐릭터 필터와 토큰 필터는 옵션이다.

<br/>


> #### 토큰과 용어
- 앞으로 토큰(token)과 용어(term)라는 단어가 많이 사용되는데, 두 단어가 헷갈리기 쉬우므로 정리하고 넘어가자

<br/>

- `Cute DolphaGo` 라는 문자열이 분석기를 거쳐 인덱스에 저장된다고 가정
- 분석기는 먼저 캐릭터 필터를 통해 원문에서 불필요한 문자를 제거함
  - 이 과정까진 문자열 자체가 분리되는 것은 아니다. 그냥 필터링된 문자열이라고 보자.
- 이후 분석기는 **토크나이저**를 통해서 필터링된 문자열을 자르게 되는데, 이때 잘린 단위를 **토큰**이라고 지칭한다.
- 이러한 토큰들은 복수의 토큰 필터를 거치며 정제되는데, 정제 후 최종으로 역인덱스에 저장되는 상태의 토큰들을 **용어**라고 한다.
- 정리하자면, **토큰은 분석기 내부에서 일시적으로 존재하는 상태**이고, **인덱싱 되어 있는 단위, 또 검색에 사용되는 단위는 모두 용어**라고 이해하면 된다.
- 즉, [`Cute`, `DolphaGo`]는 토큰이고, 토큰 필터를 통해 Cute -> cute, DolphaGo -> dolphago 로 변환되어서 [`cute`, `dolphago`]는 용어라고 이해하면 되겠다.




